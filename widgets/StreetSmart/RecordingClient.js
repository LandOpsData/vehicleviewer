function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}define([],function(){return function(){function RecordingClient(_ref){var config=_ref.config,apiKey=_ref.apiKey,map=_ref.map;_classCallCheck(this,RecordingClient);this.config=config;this.apiKey=apiKey;this.map=map;this._wfsClient=this._constructWfsClient()}RecordingClient.prototype._constructWfsClient=function _constructWfsClient(){var _config=this.config,uName=_config.uName,uPwd=_config.uPwd,atlasHost=_config.atlasHost;if(!atlasHost){alert('Street Smart: atlasHost not configured!')}var authHeader={Authorization:'Basic '+btoa(uName+':'+uPwd)};return new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:this.apiKey,dataUri:atlasHost+'/recording/wfs',withCredentials:true}),authHeaders:authHeader})};RecordingClient.prototype.load=function load(){var _map=this.map,_map$extent=_map.extent,xmin=_map$extent.xmin,ymin=_map$extent.ymin,xmax=_map$extent.xmax,ymax=_map$extent.ymax,wkid=_map.spatialReference.wkid;return this._wfsClient.requestWithinBBOX(xmin,ymin,xmax,ymax,wkid)};return RecordingClient}()});